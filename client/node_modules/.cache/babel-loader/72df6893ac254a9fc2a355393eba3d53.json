{"ast":null,"code":"var _jsxFileName = \"/Users/jacoblovins/Desktop/google_books_search/client/src/pages/saved.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Card from \"../components/card\";\nimport Book from \"../components/book\";\nimport API from \"../utils/API\";\n\nfunction Saved() {\n  const [books, setBooks] = useState({\n    books: []\n  });\n  useEffect(() => {\n    getSavedBooks();\n  }, []);\n\n  const getSavedBooks = () => {\n    console.log(books);\n    API.getSavedBooks().then(res => {\n      console.log(res.data);\n      setBooks({ ...books,\n        books: res.data\n      });\n    }).catch(err => console.log(err));\n  };\n\n  const handleBookDelete = id => {\n    API.deleteBook(id).then(res => getSavedBooks());\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    title: \"Saved Books\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, books.length ? /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, books.map(book => /*#__PURE__*/React.createElement(Book, {\n    key: book.books._id,\n    title: book.books.title,\n    subtitle: book.subtitle,\n    link: book.link,\n    authors: book.authors.join(\", \"),\n    description: book.description,\n    image: book.image,\n    Button: () => /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleBookDelete(book._id),\n      className: \"btn btn-danger ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, \"Delete\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }))) : /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"No Saved Books\"));\n}\n\nexport default Saved;","map":{"version":3,"sources":["/Users/jacoblovins/Desktop/google_books_search/client/src/pages/saved.js"],"names":["React","useState","useEffect","Card","Book","API","Saved","books","setBooks","getSavedBooks","console","log","then","res","data","catch","err","handleBookDelete","id","deleteBook","length","map","book","_id","title","subtitle","link","authors","join","description","image"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,GAAP,MAAgB,cAAhB;;AAGA,SAASC,KAAT,GAAiB;AACf,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC;AACjCM,IAAAA,KAAK,EAAE;AAD0B,GAAD,CAAlC;AAIAL,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,aAAa;AACd,GAFQ,EAEP,EAFO,CAAT;;AAIA,QAAMA,aAAa,GAAG,MAAM;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACAF,IAAAA,GAAG,CAACI,aAAJ,GACGG,IADH,CACQC,GAAG,IAAI;AACXH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACC,IAAhB;AACAN,MAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AACPA,QAAAA,KAAK,EAAEM,GAAG,CAACC;AADJ,OAAD,CAAR;AAGD,KANH,EAQGC,KARH,CAQSC,GAAG,IAAIN,OAAO,CAACC,GAAR,CAAYK,GAAZ,CARhB;AASD,GAXD;;AAaA,QAAMC,gBAAgB,GAAGC,EAAE,IAAI;AAC7Bb,IAAAA,GAAG,CAACc,UAAJ,CAAeD,EAAf,EAAmBN,IAAnB,CAAwBC,GAAG,IAAIJ,aAAa,EAA5C;AACD,GAFD;;AAKA,sBACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAC,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,KAAK,CAACa,MAAN,gBACC;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGb,KAAK,CAACc,GAAN,CAAUC,IAAI,iBACb,oBAAC,IAAD;AACE,IAAA,GAAG,EAAEA,IAAI,CAACf,KAAL,CAAWgB,GADlB;AAEE,IAAA,KAAK,EAAED,IAAI,CAACf,KAAL,CAAWiB,KAFpB;AAGE,IAAA,QAAQ,EAAEF,IAAI,CAACG,QAHjB;AAIE,IAAA,IAAI,EAAEH,IAAI,CAACI,IAJb;AAKE,IAAA,OAAO,EAAEJ,IAAI,CAACK,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CALX;AAME,IAAA,WAAW,EAAEN,IAAI,CAACO,WANpB;AAOE,IAAA,KAAK,EAAEP,IAAI,CAACQ,KAPd;AAQE,IAAA,MAAM,EAAE,mBACN;AAAQ,MAAA,OAAO,EAAE,MAAMb,gBAAgB,CAACK,IAAI,CAACC,GAAN,CAAvC;AAAmD,MAAA,SAAS,EAAC,qBAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CADD,gBAoBG;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBArBN,CADF;AA2BD;;AAED,eAAejB,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Card from \"../components/card\";\nimport Book from \"../components/book\";\nimport API from \"../utils/API\";\n\n\nfunction Saved() {\n  const [books, setBooks] = useState({\n    books: []\n  });\n\n  useEffect(() => {\n    getSavedBooks();\n  },[])\n\n  const getSavedBooks = () => {\n    console.log(books)\n    API.getSavedBooks()\n      .then(res => {\n        console.log(res.data)\n        setBooks({...books,\n          books: res.data\n        })\n      }\n      )\n      .catch(err => console.log(err));\n  };\n\n  const handleBookDelete = id => {\n    API.deleteBook(id).then(res => getSavedBooks());\n  };\n\n\n  return (\n    <Card title=\"Saved Books\">\n      {books.length ? (\n        <ul className=\"list-group\">\n          {books.map(book => (\n            <Book\n              key={book.books._id}\n              title={book.books.title}\n              subtitle={book.subtitle}\n              link={book.link}\n              authors={book.authors.join(\", \")}\n              description={book.description}\n              image={book.image}\n              Button={() => (\n                <button onClick={() => handleBookDelete(book._id)} className=\"btn btn-danger ml-2\">\n                  Delete\n                </button>\n              )}\n            />\n          ))}\n        </ul>\n      ) : (\n          <h2 className=\"text-center\">No Saved Books</h2>\n        )}\n    </Card>\n  );\n\n}\n\nexport default Saved;\n\n\n\n"]},"metadata":{},"sourceType":"module"}